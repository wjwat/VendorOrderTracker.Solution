@{
  @using VendorOrderTracker.Models;

  Layout = "_Base";
  int count = 0;
}

<h2>Vendors</h2>

<p>Click a vendor name to view details about the vendor, and currently open orders with them</p>

@foreach (Vendor vendor in Model)
{
  <fieldset>
    <legend><a class='vendor-name' href='/vendors/@count'>@vendor.Name</a></legend>
    <table>
      <tbody>
        <tr>
          <td><b>Description</b></td>
          <td>@vendor.Description</td>
        </tr>
        <tr>
          <td><b>Order Count</b></td>
          <td>@vendor.Orders.Count</td>
        </tr>
      </tbody>
    </table>

    <a href='/vendors/@count'><button type='button'>Vendor Details</button></a>
    <a href='/vendors/@count/edit'><button type='button'>Edit Vendor</button></a>
    <a href='/vendors/@count/orders/new'><button type='button'>Add Order</button></a>
  </fieldset>

  count += 1;
}

@if (@Model.Count == 0)
{
  <h4>Please add Vendors to view them.</h4>
}
<a href='/vendors/new' style='float: right'><button type='button'>Add Vendor</button></a>
